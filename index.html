<!DOCTYPE html>
<html lang="nl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Palette & Font Generator</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            height: 100vh;
            display: flex;
            overflow: hidden;
            transition: font-family 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        /* UI Header */
        .ui-header {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: white;
            padding: 10px 15px 10px 25px;
            border-radius: 60px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.15);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 12px;
            border: 1px solid #eee;
        }

        .font-controls {
            display: flex;
            align-items: center;
            gap: 10px;
            padding-right: 15px;
            border-right: 1px solid #ddd;
        }

        .font-selector {
            padding: 8px 12px;
            border-radius: 12px;
            border: 1px solid #eee;
            background: #fdfdfd;
            cursor: pointer;
            outline: none;
            min-width: 150px;
            font-size: 0.9rem;
        }

        .btn-main {
            background: #333;
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 50px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
            transition: all 0.2s;
            font-size: 0.9rem;
            white-space: nowrap;
        }

        .btn-main:hover { background: #000; }
        .btn-preview { background: #007AFF; }
        .btn-lang { background: #f0f0f0; color: #333; border: 1px solid #ddd; }

        .btn-lock-main {
            background: #f0f0f0;
            border: none;
            width: 38px;
            height: 38px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-lock-main.active { background: #ff4757; color: white; }

        /* Kolommen */
        .column {
            flex: 1;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.4s ease;
            position: relative;
        }

        .column-content { display: flex; flex-direction: column; align-items: center; text-align: center; }

        .hex { font-size: 2rem; font-weight: 900; margin-bottom: 12px; cursor: pointer; text-transform: uppercase; }

        .btn-column {
            background: rgba(255, 255, 255, 0.2);
            border: 2px solid currentColor;
            color: inherit;
            width: 45px;
            height: 45px;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* PREVIEW OVERLAY */
        #preview-overlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: white;
            z-index: 2000;
            display: none;
            overflow-y: auto;
            padding: 100px 20px;
        }

        .preview-content { max-width: 1000px; margin: 0 auto; }
        .nav-preview { display: flex; justify-content: space-between; align-items: center; padding: 20px 0; border-bottom: 2px solid; }
        .hero-preview { padding: 100px 0; text-align: center; }
        .hero-preview h1 { font-size: 4.5rem; margin-bottom: 20px; }
        .hero-preview p { font-size: 1.4rem; max-width: 650px; margin: 0 auto 35px; }
        .btn-demo { padding: 16px 45px; border-radius: 50px; text-decoration: none; font-weight: bold; display: inline-block; }
        .close-preview { position: fixed; top: 30px; right: 30px; background: #ff4757; color: white; border: none; padding: 10px 25px; border-radius: 50px; cursor: pointer; font-weight: bold; z-index: 2100; }

        input[type="color"] { opacity: 0; position: absolute; width: 0; height: 0; }
    </style>
</head>
<body>

    <div class="ui-header">
        <div class="font-controls">
            <select id="main-font-selector" class="font-selector"></select>
            <button id="main-font-lock" class="btn-lock-main"><i class="fas fa-lock-open"></i></button>
        </div>
        <button id="generate-btn" class="btn-main"><i class="fas fa-sync-alt"></i> <span data-key="gen">Generate</span></button>
        <button id="preview-btn" class="btn-main btn-preview"><i class="fas fa-laptop"></i> <span data-key="prev">Preview</span></button>
        <button id="lang-btn" class="btn-main btn-lang">NL / EN</button>
    </div>

    <div id="preview-overlay">
        <button class="close-preview" id="close-preview" data-key="close">Sluiten</button>
        <div class="preview-content">
            <nav class="nav-preview" id="p-nav">
                <div style="font-weight: 900; font-size: 1.5rem;">LOGO</div>
                <div style="display:flex; gap: 20px;">
                    <span data-key="n1">Over ons</span><span data-key="n2">Diensten</span><span data-key="n3">Contact</span>
                </div>
            </nav>
            <section class="hero-preview">
                <h1 id="p-heading" data-key="h1">Jouw Merk, Jouw Stijl.</h1>
                <p id="p-text" data-key="ptext">Dit is een live demo van hoe jouw geselecteerde font en kleurenpalet eruit zien op een moderne website.</p>
                <a href="#" class="btn-demo" id="p-btn" data-key="btn">Aan de slag</a>
            </section>
        </div>
    </div>

    <div id="container" style="display:flex; width:100%; height:100%;"></div>

    <feedback-widget></feedback-widget>
    
    <script src="https://gist.githack.com/Tomask4/15b3baa4426559822ebb0212bb7f8a78/raw/feedback-widget.js"></script>
    
    <script>
        // Taalpakketten
        const i18n = {
            nl: {
                gen: "Genereer", prev: "Preview", close: "Sluiten",
                n1: "Over ons", n2: "Diensten", n3: "Contact",
                h1: "Jouw Merk, Jouw Stijl.", ptext: "Dit is een live demo van hoe jouw geselecteerde font en kleurenpalet eruit zien op een moderne website.",
                btn: "Aan de slag"
            },
            en: {
                gen: "Generate", prev: "Preview", close: "Close",
                n1: "About us", n2: "Services", n3: "Contact",
                h1: "Your Brand, Your Style.", ptext: "This is a live demo showing how your selected font and color palette look on a modern website.",
                btn: "Get Started"
            }
        };

        let currentLang = 'en';
        const fontList = ['Inter', 'Montserrat', 'Playfair Display', 'Roboto', 'Lora', 'Oswald', 'Raleway', 'Poppins', 'Dancing Script', 'Kanit', 'Pacifico', 'Bebas Neue', 'Anton', 'Syne', 'Clash Display', 'Righteous'];
        
        const container = document.getElementById('container');
        const mainFontSelector = document.getElementById('main-font-selector');
        const mainFontLock = document.getElementById('main-font-lock');
        const generateBtn = document.getElementById('generate-btn');
        const previewBtn = document.getElementById('preview-btn');
        const langBtn = document.getElementById('lang-btn');
        const overlay = document.getElementById('preview-overlay');

        // Font Setup
        const fontLink = document.createElement('link');
        fontLink.rel = 'stylesheet';
        fontLink.href = `https://fonts.googleapis.com/css2?${fontList.map(f => `family=${f.replace(/ /g, '+')}`).join('&')}&display=swap`;
        document.head.appendChild(fontLink);

        fontList.forEach(font => {
            const opt = document.createElement('option');
            opt.value = font; opt.innerText = font; opt.style.fontFamily = font;
            mainFontSelector.appendChild(opt);
        });

        for (let i = 1; i <= 5; i++) {
            container.innerHTML += `
                <div class="column" id="col${i}">
                    <div class="column-content">
                        <input type="color" id="picker${i}">
                        <div class="hex" onclick="document.getElementById('picker${i}').click()">#FFFFFF</div>
                        <button class="btn-column lock-color"><i class="fas fa-lock-open"></i></button>
                    </div>
                </div>`;
        }

        function toggleLang() {
            currentLang = currentLang === 'nl' ? 'en' : 'nl';
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                el.innerText = i18n[currentLang][key];
            });
        }

        function generateHex() { return "#" + Math.random().toString(16).slice(2, 8).toUpperCase(); }

        function applyFont(fontName) {
            document.body.style.fontFamily = `'${fontName}', sans-serif`;
            mainFontSelector.value = fontName;
            mainFontSelector.style.fontFamily = fontName;
        }

        function updatePalette() {
            if (!mainFontLock.classList.contains('active')) {
                applyFont(fontList[Math.floor(Math.random() * fontList.length)]);
            }
            document.querySelectorAll('.column').forEach(col => {
                if (!col.querySelector('.lock-color i').classList.contains('fa-lock')) {
                    applyColor(col, generateHex());
                }
            });
        }

        function applyColor(col, color) {
            col.style.background = color;
            col.querySelector('.hex').innerText = color;
            col.querySelector('input[type="color"]').value = color;
            const r = parseInt(color.slice(1,3), 16), g = parseInt(color.slice(3,5), 16), b = parseInt(color.slice(5,7), 16);
            const brightness = (r * 299 + g * 587 + b * 114) / 1000;
            col.style.color = brightness > 125 ? '#111' : '#fff';
        }

        // Event Listeners
        langBtn.addEventListener('click', toggleLang);
        previewBtn.addEventListener('click', () => {
            const colors = Array.from(document.querySelectorAll('.hex')).map(el => el.innerText);
            overlay.style.display = 'block';
            overlay.style.background = colors[0];
            overlay.style.color = document.getElementById('col1').style.color;
            document.getElementById('p-nav').style.borderColor = colors[1];
            document.getElementById('p-heading').style.color = colors[2];
            document.getElementById('p-btn').style.background = colors[3];
            document.getElementById('p-btn').style.color = document.getElementById('col4').style.color;
            document.getElementById('p-text').style.color = colors[4];
        });

        document.getElementById('close-preview').addEventListener('click', () => overlay.style.display = 'none');
        generateBtn.addEventListener('click', updatePalette);
        mainFontLock.addEventListener('click', () => {
            mainFontLock.classList.toggle('active');
            mainFontLock.querySelector('i').classList.toggle('fa-lock-open');
            mainFontLock.querySelector('i').classList.toggle('fa-lock');
        });
        mainFontSelector.addEventListener('change', (e) => applyFont(e.target.value));
        container.addEventListener('click', (e) => {
            const lockBtn = e.target.closest('.lock-color');
            if (lockBtn) {
                lockBtn.querySelector('i').classList.toggle('fa-lock-open');
                lockBtn.querySelector('i').classList.toggle('fa-lock');
            }
        });
        container.addEventListener('input', (e) => {
            if (e.target.type === 'color') applyColor(e.target.closest('.column'), e.target.value);
        });
        window.addEventListener('keydown', (e) => { if (e.code === "Space") { e.preventDefault(); updatePalette(); } });

        updatePalette();
    </script>
</body>
</html>
